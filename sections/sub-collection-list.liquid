{% assign sub_collections = collection.metafields.custom.sub_collection_list.value %}

<script>
  console.log("✅ Debug: Loaded Collection - {{ collection.title | escape }}");

  {% if sub_collections == blank %}
    console.error("❌ Error: sub_collection_list metafield is blank or missing.");
  {% else %}
    console.log("✅ sub_collection_list raw object:", {{ sub_collections | json }});
    console.log("✅ sub_collection_list length: {{ sub_collections.size }}");
    
    {% for sub in sub_collections %}
      console.log("➡️ Sub-collection {{ forloop.index }} - Title: {{ sub.title | escape }}, Handle: {{ sub.handle | escape }}, URL: {{ sub.url }}");
    {% endfor %}
  {% endif %}
</script>
